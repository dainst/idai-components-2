<div *ngFor="let dimension of resource[field.name]; index as i"  class="mb-2">
        

	<div class="input-group mb-2" *ngIf="!dimension.editing">
		<input value="{{dimension.hasLabel}}" type="text" disabled class="form-control">
		 <span class="input-group-btn">
			<button class="btn btn-danger" (click)="removeDimensionAtIndex(i)"><span class="mdi mdi-delete"></span></button>
		</span>
		 <span class="input-group-btn">
			<button class="btn btn-info" (click)="dimension.editing = !dimension.editing"><span class="mdi mdi-pencil"></span></button>
		</span>
	</div>

	<div *ngIf="dimension.editing">
	    <ng-container [ngTemplateOutlet]="dimensionForm"
	                  [ngTemplateOutletContext]="{ dimension: dimension }">
	    </ng-container>
	</div>
</div>

<div class="input-group" *ngIf="!newDimension">
	<input placeholder="HinzufÃ¼gen ..." type="text" disabled class="form-control">
    <span class="input-group-btn">
    	<button class="btn btn-success" (click)="createNewDimension()"><span class="mdi mdi-plus-circle"></span></button>
    </span>
</div>

<div *ngIf="newDimension">
    <ng-container [ngTemplateOutlet]="dimensionForm"
                  [ngTemplateOutletContext]="{ dimension: newDimension }">
    </ng-container>
</div>

<ng-template #dimensionForm let-dimension="dimension">

	<div class="card">
		<div class="card-block">
			<div class="row mb-2 small">
		    	<div class="col-3">
					<label>{{field['label']}}</label>
		    		<input [(ngModel)]="dimension.hasInputValue" type="number" step="0.001" min="0" name="hasInputValue" class="form-control">
		    	</div>
		    	
		    	<div class="col-3">
					<label>Einheit</label>
			    	<select  [(ngModel)]="dimension.hasInputUnit" class="custom-select">
			            <option value="cm">cm</option>
			            <option value="m">m</option>
			            <option value="mm">mm</option>
					</select>
				</div>

				<div class="col-6">
					<label>Gemessen an</label>
			    	<select *ngIf="this.field.position_values" [(ngModel)]="dimension.hasMeasurementPosition" class="ml-2 custom-select">
			            <option *ngFor="let item of field.position_values" value="{{item}}">{{item}}</option>
					</select>
					<input *ngIf="!this.field.position_values" [(ngModel)]="dimension.hasMeasurementPosition" class="form-control">
				</div>

		    </div>
		    <div class="form-group mb-2">
		    	<label for="comment" class="small">Kommentar</label>
		    	<input [(ngModel)]="dimension.hasMeasurementComment" type="" class="form-control" name="hasMeasurementComment">
		    </div>
		    <div class="form-group mb-2">
		    	<label class="form-check-label">
		            <input class="form-check-input" type="checkbox"
		                   [checked]="dimension.isImprecise"
		                   (change)="dimension.isImprecise = !dimension.isImprecise">
		            Ungenau
		        </label>
		    </div>
		</div>
		<div class="card-footer" align="right">

	    	<button class="btn btn-primary" (click)="saveDimension(dimension)">OK</button>
	    	<button class="btn btn-secondary" *ngIf="newDimension == dimension" (click)="cancelNewDimension()">Abbrechen</button>

		</div>
	</div>

</ng-template>